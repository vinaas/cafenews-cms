<template>
  <style>
    ux-dialog-overlay.active {
      background-color: black;
      opacity: .5;
    }

    ux-dialog-container.active .modal.fade.stick-up .modal-dialog {
      -webkit-transform: translateZ(0);
      transform: translateZ(0);
      -ms-transform: translate(0);
    }

    .ux-dialog-open {
      overflow: hidden;
    }

    .ux-dialog-open .modal {
      overflow-x: hidden;
      overflow-y: auto;
    }

    ux-dialog {
      padding: 0!important;
      box-shadow: none !important;
      background: transparent !important;
      border: none !important;
    }

  </style>
  <ux-dialog>
    <ux-dialog-body>
      <div class="modal fade stick-up" role="dialog" aria-hidden="true" data-backdrop="static" style="display:block">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header clearfix text-left">
              <button click.delegate="ctrl.cancel()" type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="pg-close fs-14"></i></button>
              <h5>Chi tiết <span class="semi-bold">Phòng ban</span>
              </h5>
            </div>
            <div class="modal-body">
              <div class="row">
                  <div class="col-md-6">
                      <div class="row  m-b-15">
                          <div class="col-md-4  name m-t-5"> Tên phòng ban : </div>
                          <div class="col-md-8 value form-group form-group-default required select2-small">
                              <input type="text" class="form-control " name="" value.bind="itemPhongBan.name" disabled>
                          </div>
                      </div>
                  </div>
  
                  <div class="col-md-6">
                      <div class="row  m-b-15">
                          <div class="col-md-4  name m-t-5"> Mã phòng ban : </div>
                          <div class="col-md-8 value form-group form-group-default required select2-small">
                              <input type="text" class="form-control " name="" value.bind="itemPhongBan.description" disabled>
                          </div>
                      </div>
                  </div>
              </div>
              <hr>
  
              <h5>Danh sách <span class="semi-bold">nhân viên</span> </h5>
  
              <div class="row">
                  <div class="col-sm-12">
                      <form role="form" lpformnum="2" class="form-filter pull-right">
                          <div class="form-group">
                              <label>Mã nhân viên</label>
                              <span class="help">e.g. </span>
                              <input type="text" class="form-control input-sm" value.bind="filter.where.maNhanVien.ilike">
                          </div>
                          <div class="form-group">
                              <button data-loading-text="Loading" btn-async="task.call:runFilter()" class="btn btn-primary btn-cons btn-sm m-t-25" type="submit"><i class="fa fa-search"></i> Tìm kiếm</button>
                          </div>
                      </form>
                  </div>
              </div>
  
              <loader async-task.bind="asyncTask">
                  <table class="table table-hover" aurelia-table="data.bind: itemsNhanVien; display-data.bind: $displayDataNhanVien; ">
                      <thead>
                          <tr>
                              <th>STT</th>
                              <th>Tên nhân viên</th>
                              <th>Mã nhân viên</th>
                              <th>Chức vụ</th>
                              <th>Hồ sơ </th>
                          </tr>
                      </thead>
                      <tbody>
                          <tr repeat.for="itemnv of $displayDataNhanVien">
                              <td>${$index+1}</td>
                              <td>${itemnv.tenNhanVien}</td>
                              <td>${itemnv.maNhanVien}</td>
                              <td>${itemnv.chucVu}</td>
                              <td><a href="javascript:void(0);" click.delegate="runView(itemnv)" class="text-primary"><i class="fa fa-user-circle-o"></i> Xem</a></td>
                          </tr>
                      </tbody>
                  </table>
                  <div class="row">
                      <div class="col-md-8">
                          <aut-pagination filter-ref.bind="filter" changed.delegate="paginationChanged($event)" current-page.bind="currentPage" page-size.bind="pageSize" total-items.bind="itemsCount" pagination-size.bind="5">
                          </aut-pagination>
                      </div>
  
                      <div class="col-md-4">
                          <div class="form-inline">
                              <div class="form-group pull-right">
                                  <label for="pageSize">Page Size: </label>
                                  <select value.bind="pageSize" id="pageSize" class="form-control">
                                    <option model.bind="5">5</option>
                                    <option selected model.bind="10">10</option>
                                    <option model.bind="20">20</option>
                                    <option model.bind="50">50</option>
                                </select>
                              </div>
                          </div>
                      </div>
                  </div>
              </loader>
  
              <hr>
  
              <div class="text-right m-t-20">
                  <button click.delegate="ctrl.cancel()" type="button" class="btn btn-danger m-t-5" data-dismiss="modal"><i class="fa fa-close"></i> Đóng</button>
              </div>
  
            </div>
          </div>
        </div>
      </div>
    </ux-dialog-body>
  </ux-dialog>
</template>